if("undefined"==typeof jQuery)throw new Error("Kube's requires jQuery");!function(t){var e=t.fn.jquery.split(".");if(1==e[0]&&e[1]<8)throw new Error("Kube's requires at least jQuery v1.8")}(jQuery),function(){Function.prototype.inherits=function(t){var e=function(){};e.prototype=t.prototype;var s=new e;for(var i in this.prototype)s[i]=this.prototype[i];this.prototype=s,this.prototype["super"]=t.prototype};var t=function(t,e){e="object"==typeof e?e:{},this.jQueryelement=jQuery(t),this.opts=jQuery.extend(!0,this.defaults,jQuery.fn[this.namespace].options,this.jQueryelement.data(),e),this.jQuerytarget="string"==typeof this.opts.target?jQuery(this.opts.target):null};t.prototype={getInstance:function(){return this.jQueryelement.data("fn."+this.namespace)},hasTarget:function(){return!(null===this.jQuerytarget)},callback:function(t){var e=[].slice.call(arguments).splice(1);return this.jQueryelement&&(e=this._fireCallback(jQuery._data(this.jQueryelement[0],"events"),t,this.namespace,e)),this.jQuerytarget&&(e=this._fireCallback(jQuery._data(this.jQuerytarget[0],"events"),t,this.namespace,e)),this.opts&&this.opts.callbacks&&jQuery.isFunction(this.opts.callbacks[t])?this.opts.callbacks[t].apply(this,e):e},_fireCallback:function(t,e,s,i){if(t&&"undefined"!=typeof t[e])for(var n=t[e].length,o=0;n>o;o++){var a=t[e][o].namespace;if(a===s)var h=t[e][o].handler.apply(this,i)}return"undefined"==typeof h?i:h}},window.Kube=t}(),function(t){t.Plugin={create:function(e,s){return s="undefined"==typeof s?e.toLowerCase():s,jQuery.fn[s]=function(i,n){var o=Array.prototype.slice.call(arguments,1),a="fn."+s,h=[];return this.each(function(){var s=jQuery(this),l=s.data(a);if(n="object"==typeof i?i:n,l||(s.data(a,{}),s.data(a,l=new t[e](this,n))),"string"==typeof i)if(jQuery.isFunction(l[i])){var c=l[i].apply(l,o);void 0!==c&&h.push(c)}else jQuery.error('No such method "'+i+'" for '+e)}),0===h.length||1===h.length?0===h.length?this:h[0]:h},jQuery.fn[s].options={},this},autoload:function(t){for(var e=t.split(","),s=e.length,i=0;s>i;i++){var n=e[i].toLowerCase().split(",").map(function(t){return t.trim()}).join(",");this.autoloadQueue.push(n)}return this},autoloadQueue:[],startAutoload:function(){if(window.MutationObserver&&0!==this.autoloadQueue.length){var t=this,e=new MutationObserver(function(e){e.forEach(function(e){var s=e.addedNodes;0===s.length||1===s.length&&3===s.nodeType||t.startAutoloadOnce()})});e.observe(document,{subtree:!0,childList:!0})}},startAutoloadOnce:function(){var t=this,e=jQuery("[data-component]").not("[data-loaded]");e.each(function(){var e=jQuery(this),s=e.data("component");-1!==t.autoloadQueue.indexOf(s)&&(e.attr("data-loaded",!0),e[s]())})},watch:function(){t.Plugin.startAutoloadOnce(),t.Plugin.startAutoload()}},jQuery(window).on("load",function(){t.Plugin.watch()})}(Kube),function(t){t.Animation=function(e,s,i){this.namespace="animation",this.defaults={},t.apply(this,arguments),this.effect=s,this.completeCallback="undefined"==typeof i?!1:i,this.prefixes=["","-moz-","-o-animation-","-webkit-"],this.queue=[],this.start()},t.Animation.prototype={start:function(){this.isSlideEffect()&&this.setElementHeight(),this.addToQueue(),this.clean(),this.animate()},addToQueue:function(){this.queue.push(this.effect)},setElementHeight:function(){this.jQueryelement.height(this.jQueryelement.height())},removeElementHeight:function(){this.jQueryelement.css("height","")},isSlideEffect:function(){return"slideDown"===this.effect||"slideUp"===this.effect},isHideableEffect:function(){var t=["fadeOut","slideUp","flipOut","zoomOut","slideOutUp","slideOutRight","slideOutLeft"];return-1!==jQuery.inArray(this.effect,t)},isToggleEffect:function(){return"show"===this.effect||"hide"===this.effect},storeHideClasses:function(){this.jQueryelement.hasClass("hide-sm")?this.jQueryelement.data("hide-sm-class",!0):this.jQueryelement.hasClass("hide-md")&&this.jQueryelement.data("hide-md-class",!0)},revertHideClasses:function(){this.jQueryelement.data("hide-sm-class")?this.jQueryelement.addClass("hide-sm").removeData("hide-sm-class"):this.jQueryelement.data("hide-md-class")?this.jQueryelement.addClass("hide-md").removeData("hide-md-class"):this.jQueryelement.addClass("hide")},removeHideClass:function(){this.jQueryelement.data("hide-sm-class")?this.jQueryelement.removeClass("hide-sm"):this.jQueryelement.data("hide-md-class")?this.jQueryelement.removeClass("hide-md"):this.jQueryelement.removeClass("hide")},animate:function(){if(this.storeHideClasses(),this.isToggleEffect())return this.makeSimpleEffects();this.jQueryelement.addClass("kubeanimated"),this.jQueryelement.addClass(this.queue[0]),this.removeHideClass();var t=this.queue.length>1?null:this.completeCallback;this.complete("AnimationEnd",jQuery.proxy(this.makeComplete,this),t)},makeSimpleEffects:function(){"show"===this.effect?this.removeHideClass():"hide"===this.effect&&this.revertHideClasses(),"function"==typeof this.completeCallback&&this.completeCallback(this)},makeComplete:function(){this.jQueryelement.hasClass(this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length&&this.animate())},complete:function(t,e,s){var i=t.toLowerCase()+" webkit"+t+" o"+t+" MS"+t;this.jQueryelement.one(i,jQuery.proxy(function(){"function"==typeof e&&e(),this.isHideableEffect()&&this.revertHideClasses(),this.isSlideEffect()&&this.removeElementHeight(),"function"==typeof s&&s(this),this.jQueryelement.off(i)},this))},clean:function(){this.jQueryelement.removeClass("kubeanimated").removeClass(this.queue[0])}},t.Animation.inherits(t)}(Kube),function(t){t.fn.animation=function(e,s){var i="fn.animation";return this.each(function(){var n=t(this),o=n.data(i);n.data(i,{}),n.data(i,o=new Kube.Animation(this,e,s))})},t.fn.animation.options={}}(jQuery),function(t){t.Detect=function(){},t.Detect.prototype={isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isMobileScreen:function(){return jQuery(window).width()<=768},isTabletScreen:function(){return jQuery(window).width()>=768&&jQuery(window).width()<=1024},isDesktopScreen:function(){return jQuery(window).width()>1024}}}(Kube),function(t){t.FormData=function(t){this.opts=t.opts},t.FormData.prototype={set:function(t){this.data=t},get:function(t){return this.formdata=t,this.opts.appendForms&&this.appendForms(),this.opts.appendFields&&this.appendFields(),this.data},appendFields:function(){var t=jQuery(this.opts.appendFields);if(0!==t.length){var e=this,s="";this.formdata?t.each(function(){e.data.append(jQuery(this).attr("name"),jQuery(this).val())}):(t.each(function(){s+="&"+jQuery(this).attr("name")+"="+jQuery(this).val()}),this.data=""===this.data?s.replace(/^&/,""):this.data+s)}},appendForms:function(){var t=jQuery(this.opts.appendForms);if(0!==t.length)if(this.formdata){var e=this,s=jQuery(this.opts.appendForms).serializeArray();jQuery.each(s,function(t,s){e.data.append(s.name,s.value)})}else{var i=t.serialize();this.data=""===this.data?i:this.data+"&"+i}}}}(Kube),function(t){t.Response=function(t){},t.Response.prototype={parse:function(t){if(""===t)return!1;var e={};try{e=JSON.parse(t)}catch(s){return!1}if(void 0!==e[0])for(var i in e)this.parseItem(e[i]);else this.parseItem(e);return e},parseItem:function(t){return"value"===t.type?jQuery.each(t.data,jQuery.proxy(function(t,e){e=null===e||e===!1?0:e,e=e===!0?1:e,jQuery(t).val(e)},this)):"html"===t.type?jQuery.each(t.data,jQuery.proxy(function(t,e){e=null===e||e===!1?"":e,jQuery(t).html(this.stripslashes(e))},this)):"addClass"===t.type?jQuery.each(t.data,function(t,e){jQuery(t).addClass(e)}):"removeClass"===t.type?jQuery.each(t.data,function(t,e){jQuery(t).removeClass(e)}):"command"===t.type?jQuery.each(t.data,function(t,e){jQuery(e)[t]()}):"animation"===t.type?jQuery.each(t.data,function(t,e){e.opts="undefined"==typeof e.opts?{}:e.opts,jQuery(t).animation(e.name,e.opts)}):"location"===t.type?top.location.href=t.data:"notify"===t.type&&jQuery.notify(t.data),t},stripslashes:function(t){return(t+"").replace(/\0/g,"0").replace(/\\([\\'"])/g,"jQuery1")}}}(Kube),function(t){t.Utils=function(){},t.Utils.prototype={disableBodyScroll:function(){var t=jQuery("html"),e=window.innerWidth;if(!e){var s=document.documentElement.getBoundingClientRect();e=s.right-Math.abs(s.left)}var i=document.body.clientWidth<e,n=this.measureScrollbar();t.css("overflow","hidden"),i&&t.css("padding-right",n)},measureScrollbar:function(){var t=jQuery("body"),e=document.createElement("div");e.className="scrollbar-measure",t.append(e);var s=e.offsetWidth-e.clientWidth;return t[0].removeChild(e),s},enableBodyScroll:function(){jQuery("html").css({overflow:"","padding-right":""})}}}(Kube),function(t){t.Message=function(e,s){this.namespace="message",this.defaults={closeSelector:".close",closeEvent:"click",animationOpen:"fadeIn",animationClose:"fadeOut",callbacks:["open","opened","close","closed"]},t.apply(this,arguments),this.start()},t.Message.prototype={start:function(){this.jQueryclose=this.jQueryelement.find(this.opts.closeSelector),this.jQueryclose.on(this.opts.closeEvent+"."+this.namespace,jQuery.proxy(this.close,this)),this.jQueryelement.addClass("open")},stop:function(){this.jQueryclose.off("."+this.namespace),this.jQueryelement.removeClass("open")},open:function(t){t&&t.preventDefault(),this.isOpened()||(this.callback("open"),this.jQueryelement.animation(this.opts.animationOpen,jQuery.proxy(this.onOpened,this)))},isOpened:function(){return this.jQueryelement.hasClass("open")},onOpened:function(){this.callback("opened"),this.jQueryelement.addClass("open")},close:function(t){t&&t.preventDefault(),this.isOpened()&&(this.callback("close"),this.jQueryelement.animation(this.opts.animationClose,jQuery.proxy(this.onClosed,this)))},onClosed:function(){this.callback("closed"),this.jQueryelement.removeClass("open")}},t.Message.inherits(t),t.Plugin.create("Message"),t.Plugin.autoload("Message")}(Kube),function(t){t.Sticky=function(e,s){this.namespace="sticky",this.defaults={classname:"fixed",offset:0,callbacks:["fixed","unfixed"]},t.apply(this,arguments),this.start()},t.Sticky.prototype={start:function(){this.offsetTop=this.getOffsetTop(),this.load(),jQuery(window).scroll(jQuery.proxy(this.load,this))},getOffsetTop:function(){return this.jQueryelement.offset().top},load:function(){return this.isFix()?this.fixed():this.unfixed()},isFix:function(){return jQuery(window).scrollTop()>this.offsetTop+this.opts.offset},fixed:function(){this.jQueryelement.addClass(this.opts.classname).css("top",this.opts.offset+"px"),this.callback("fixed")},unfixed:function(){this.jQueryelement.removeClass(this.opts.classname).css("top",""),this.callback("unfixed")}},t.Sticky.inherits(t),t.Plugin.create("Sticky"),t.Plugin.autoload("Sticky")}(Kube),function(t){t.Toggleme=function(e,s){this.namespace="toggleme",this.defaults={toggleEvent:"click",target:null,text:"",animationOpen:"slideDown",animationClose:"slideUp",callbacks:["open","opened","close","closed"]},t.apply(this,arguments),this.start()},t.Toggleme.prototype={start:function(){this.hasTarget()&&this.jQueryelement.on(this.opts.toggleEvent+"."+this.namespace,jQuery.proxy(this.toggle,this))},stop:function(){this.jQueryelement.off("."+this.namespace),this.revertText()},toggle:function(t){this.isOpened()?this.close(t):this.open(t)},open:function(t){t&&t.preventDefault(),this.isOpened()||(this.storeText(),this.callback("open"),this.jQuerytarget.animation("slideDown",jQuery.proxy(this.onOpened,this)),setTimeout(jQuery.proxy(this.replaceText,this),100))},close:function(t){t&&t.preventDefault(),this.isOpened()&&(this.callback("close"),this.jQuerytarget.animation("slideUp",jQuery.proxy(this.onClosed,this)))},isOpened:function(){return this.jQuerytarget.hasClass("open")},onOpened:function(){this.jQuerytarget.addClass("open"),this.callback("opened")},onClosed:function(){this.jQuerytarget.removeClass("open"),this.revertText(),this.callback("closed")},storeText:function(){this.jQueryelement.data("replacement-text",this.jQueryelement.html())},revertText:function(){var t=this.jQueryelement.data("replacement-text");t&&this.jQueryelement.html(t),this.jQueryelement.removeData("replacement-text")},replaceText:function(){""!==this.opts.text&&this.jQueryelement.html(this.opts.text)}},t.Toggleme.inherits(t),t.Plugin.create("Toggleme"),t.Plugin.autoload("Toggleme")}(Kube),function(t){t.Offcanvas=function(e,s){this.namespace="offcanvas",this.defaults={target:null,push:!0,width:"250px",direction:"left",toggleEvent:"click",clickOutside:!0,animationOpen:"slideInLeft",animationClose:"slideOutLeft",callbacks:["open","opened","close","closed"]},t.apply(this,arguments),this.utils=new t.Utils,this.detect=new t.Detect,this.start()},t.Offcanvas.prototype={start:function(){this.hasTarget()&&(this.buildTargetWidth(),this.buildAnimationDirection(),this.jQueryclose=this.getCloseLink(),this.jQueryelement.on(this.opts.toggleEvent+"."+this.namespace,jQuery.proxy(this.toggle,this)),this.jQuerytarget.addClass("offcanvas"))},stop:function(){this.closeAll(),this.jQueryelement.off("."+this.namespace),this.jQueryclose.off("."+this.namespace),jQuery(document).off("."+this.namespace)},toggle:function(t){this.isOpened()?this.close(t):this.open(t)},buildTargetWidth:function(){this.opts.width=jQuery(window).width()<parseInt(this.opts.width)?"100%":this.opts.width},buildAnimationDirection:function(){"right"===this.opts.direction&&(this.opts.animationOpen="slideInRight",this.opts.animationClose="slideOutRight")},getCloseLink:function(){return this.jQuerytarget.find(".close")},open:function(t){t&&t.preventDefault(),this.isOpened()||(this.closeAll(),this.callback("open"),this.jQuerytarget.addClass("offcanvas-"+this.opts.direction),this.jQuerytarget.css("width",this.opts.width),this.pushBody(),this.jQuerytarget.animation(this.opts.animationOpen,jQuery.proxy(this.onOpened,this)))},closeAll:function(){var t=jQuery(document).find(".offcanvas");0!==t.length&&(t.each(function(){var t=jQuery(this);t.hasClass("open")&&(t.css("width","").animation("hide"),t.removeClass("open offcanvas-left offcanvas-right"))}),jQuery(document).off("."+this.namespace),jQuery("body").css("left",""))},close:function(t){if(t){var e=jQuery(t.target),s="A"===e[0].tagName||"BUTTON"===e[0].tagName;if(s&&0!==e.closest(".offcanvas").length&&!e.hasClass("close"))return;t.preventDefault()}this.isOpened()&&(this.utils.enableBodyScroll(),this.callback("close"),this.pullBody(),this.jQuerytarget.animation(this.opts.animationClose,jQuery.proxy(this.onClosed,this)))},isOpened:function(){return this.jQuerytarget.hasClass("open")},onOpened:function(){this.opts.clickOutside&&jQuery(document).on("click."+this.namespace,jQuery.proxy(this.close,this)),this.detect.isMobileScreen()&&jQuery("html").addClass("no-scroll"),jQuery(document).on("keyup."+this.namespace,jQuery.proxy(this.handleKeyboard,this)),this.jQueryclose.on("click."+this.namespace,jQuery.proxy(this.close,this)),this.utils.disableBodyScroll(),this.jQuerytarget.addClass("open"),this.callback("opened")},onClosed:function(){this.detect.isMobileScreen()&&jQuery("html").removeClass("no-scroll"),this.jQuerytarget.css("width","").removeClass("offcanvas-"+this.opts.direction),this.jQueryclose.off("."+this.namespace),jQuery(document).off("."+this.namespace),this.jQuerytarget.removeClass("open"),this.callback("closed")},handleKeyboard:function(t){27===t.which&&this.close()},pullBody:function(){this.opts.push&&jQuery("body").animate({left:0},350,function(){jQuery(this).removeClass("offcanvas-push-body")})},pushBody:function(){if(this.opts.push){var t="left"===this.opts.direction?{left:this.opts.width}:{left:"-"+this.opts.width};jQuery("body").addClass("offcanvas-push-body").animate(t,200)}}},t.Offcanvas.inherits(t),t.Plugin.create("Offcanvas"),t.Plugin.autoload("Offcanvas")}(Kube),function(t){t.Collapse=function(e,s){this.namespace="collapse",this.defaults={target:null,toggle:!0,active:!1,toggleClass:"collapse-toggle",boxClass:"collapse-box",callbacks:["open","opened","close","closed"],hashes:[],currentHash:!1,currentItem:!1},t.apply(this,arguments),this.start()},t.Collapse.prototype={start:function(){this.jQueryitems=this.getItems(),this.jQueryitems.each(jQuery.proxy(this.loadItems,this)),this.jQueryboxes=this.getBoxes(),this.setActiveItem()},getItems:function(){return this.jQueryelement.find("."+this.opts.toggleClass)},getBoxes:function(){return this.jQueryelement.find("."+this.opts.boxClass)},loadItems:function(t,e){var s=this.getItem(e);s.jQueryel.attr("rel",s.hash),jQuery(s.hash).hasClass("hide")||(this.opts.currentItem=s,this.opts.active=s.hash,s.jQueryel.addClass("active")),s.jQueryel.on("click.collapse",jQuery.proxy(this.toggle,this))},setActiveItem:function(){this.opts.active!==!1&&(this.opts.currentItem=this.getItemBy(this.opts.active),this.opts.active=this.opts.currentItem.hash),this.opts.currentItem!==!1&&(this.addActive(this.opts.currentItem),this.opts.currentItem.jQuerybox.removeClass("hide"))},addActive:function(t){t.jQuerybox.removeClass("hide").addClass("open"),t.jQueryel.addClass("active"),t.jQuerycaret!==!1&&t.jQuerycaret.removeClass("down").addClass("up"),t.jQueryparent!==!1&&t.jQueryparent.addClass("active"),this.opts.currentItem=t},removeActive:function(t){t.jQuerybox.removeClass("open"),t.jQueryel.removeClass("active"),t.jQuerycaret!==!1&&t.jQuerycaret.addClass("down").removeClass("up"),t.jQueryparent!==!1&&t.jQueryparent.removeClass("active"),this.opts.currentItem=!1},toggle:function(t){t&&t.preventDefault();var e=jQuery(t.target).closest("."+this.opts.toggleClass).get(0)||t.target,s=this.getItem(e);this.isOpened(s.hash)?this.close(s.hash):this.open(t)},openAll:function(){this.jQueryitems.addClass("active"),this.jQueryboxes.addClass("open").removeClass("hide")},open:function(t,e){if("undefined"!=typeof t){"object"==typeof t&&t.preventDefault();var s=jQuery(t.target).closest("."+this.opts.toggleClass).get(0)||t.target,i="object"==typeof t?this.getItem(s):this.getItemBy(t);i.jQuerybox.hasClass("open")||(this.opts.toggle&&this.closeAll(),this.callback("open",i),this.addActive(i),i.jQuerybox.animation("slideDown",jQuery.proxy(this.onOpened,this)))}},onOpened:function(){this.callback("opened",this.opts.currentItem)},closeAll:function(){this.jQueryitems.removeClass("active").closest("li").removeClass("active"),this.jQueryboxes.removeClass("open").addClass("hide")},close:function(t){var e=this.getItemBy(t);this.callback("close",e),this.opts.currentItem=e,e.jQuerybox.animation("slideUp",jQuery.proxy(this.onClosed,this))},onClosed:function(){var t=this.opts.currentItem;this.removeActive(t),this.callback("closed",t)},isOpened:function(t){return jQuery(t).hasClass("open")},getItem:function(t){var e={};e.jQueryel=jQuery(t),e.hash=e.jQueryel.attr("href"),e.jQuerybox=jQuery(e.hash);var s=e.jQueryel.parent();e.jQueryparent="LI"===s[0].tagName?s:!1;var i=e.jQueryel.find(".caret");return e.jQuerycaret=0!==i.length?i:!1,e},getItemBy:function(t){var e="number"==typeof t?this.jQueryitems.eq(t-1):this.jQueryelement.find('[rel="'+t+'"]');return this.getItem(e)}},t.Collapse.inherits(t),t.Plugin.create("Collapse"),t.Plugin.autoload("Collapse")}(Kube),function(t){t.Dropdown=function(e,s){this.namespace="dropdown",this.defaults={target:null,toggleEvent:"click",height:!1,width:!1,animationOpen:"slideDown",animationClose:"slideUp",caretUp:!1,callbacks:["open","opened","close","closed"]},t.apply(this,arguments),this.utils=new t.Utils,this.detect=new t.Detect,this.start()},t.Dropdown.prototype={start:function(){this.buildClose(),this.buildCaret(),this.detect.isMobile()&&this.buildMobileAnimation(),this.jQuerytarget.addClass("hide"),this.jQueryelement.on(this.opts.toggleEvent+"."+this.namespace,jQuery.proxy(this.toggle,this))},stop:function(){this.jQueryelement.off("."+this.namespace),this.jQuerytarget.removeClass("open").addClass("hide"),this.disableEvents()},buildMobileAnimation:function(){this.opts.animationOpen="fadeIn",this.opts.animationClose="fadeOut"},buildClose:function(){this.jQueryclose=this.jQuerytarget.find(".close")},buildCaret:function(){this.jQuerycaret=this.getCaret(),this.buildCaretPosition()},buildCaretPosition:function(){var t=this.jQueryelement.offset().top+this.jQueryelement.innerHeight()+this.jQuerytarget.innerHeight();jQuery(document).height()>t||(this.opts.caretUp=!0,this.jQuerycaret.addClass("up"))},getCaret:function(){return this.jQueryelement.find(".caret")},toggleCaretOpen:function(){this.opts.caretUp?this.jQuerycaret.removeClass("up").addClass("down"):this.jQuerycaret.removeClass("down").addClass("up")},toggleCaretClose:function(){this.opts.caretUp?this.jQuerycaret.removeClass("down").addClass("up"):this.jQuerycaret.removeClass("up").addClass("down")},toggle:function(t){this.isOpened()?this.close(t):this.open(t)},open:function(t){t&&t.preventDefault(),this.callback("open"),jQuery(".dropdown").removeClass("open").addClass("hide"),this.opts.height&&this.jQuerytarget.css("min-height",this.opts.height+"px"),this.opts.width&&this.jQuerytarget.width(this.opts.width),this.setPosition(),this.toggleCaretOpen(),this.jQuerytarget.animation(this.opts.animationOpen,jQuery.proxy(this.onOpened,this))},close:function(t){if(this.isOpened()){if(t){if(this.shouldNotBeClosed(t.target))return;t.preventDefault()}this.utils.enableBodyScroll(),this.callback("close"),this.toggleCaretClose(),this.jQuerytarget.animation(this.opts.animationClose,jQuery.proxy(this.onClosed,this))}},onClosed:function(){this.jQuerytarget.removeClass("open"),this.disableEvents(),this.callback("closed")},onOpened:function(){this.jQuerytarget.addClass("open"),this.enableEvents(),this.callback("opened")},isOpened:function(){return this.jQuerytarget.hasClass("open")},enableEvents:function(){this.detect.isDesktop()&&this.jQuerytarget.on("mouseover."+this.namespace,jQuery.proxy(this.utils.disableBodyScroll,this.utils)).on("mouseout."+this.namespace,jQuery.proxy(this.utils.enableBodyScroll,this.utils)),jQuery(document).on("scroll."+this.namespace,jQuery.proxy(this.setPosition,this)),jQuery(window).on("resize."+this.namespace,jQuery.proxy(this.setPosition,this)),jQuery(document).on("click."+this.namespace+" touchstart."+this.namespace,jQuery.proxy(this.close,this)),jQuery(document).on("keydown."+this.namespace,jQuery.proxy(this.handleKeyboard,this)),this.jQuerytarget.find('[data-action="dropdown-close"]').on("click."+this.namespace,jQuery.proxy(this.close,this))},disableEvents:function(){this.jQuerytarget.off("."+this.namespace),jQuery(document).off("."+this.namespace),jQuery(window).off("."+this.namespace)},handleKeyboard:function(t){27===t.which&&this.close(t)},shouldNotBeClosed:function(t){return"dropdown-close"===jQuery(t).attr("data-action")||t===this.jQueryclose[0]?!1:0!==jQuery(t).closest(".dropdown").length},isNavigationFixed:function(){return 0!==this.jQueryelement.closest(".fixed").length},getPlacement:function(t){return jQuery(document).height()<t?"top":"bottom"},getOffset:function(t){return this.isNavigationFixed()?this.jQueryelement.position():this.jQueryelement.offset()},getPosition:function(){return this.isNavigationFixed()?"fixed":"absolute"},setPosition:function(){if(this.detect.isMobile())return void this.jQuerytarget.addClass("dropdown-mobile");var t,e=this.getPosition(),s=this.getOffset(e),i=this.jQuerytarget.innerHeight(),n=this.jQuerytarget.innerWidth(),o=this.getPlacement(s.top+i+this.jQueryelement.innerHeight()),a=jQuery(window).width()<s.left+n?n-this.jQueryelement.innerWidth():0,h=s.left-a;"bottom"===o?(this.isOpened()||this.jQuerycaret.removeClass("up").addClass("down"),this.opts.caretUp=!1,t=s.top+this.jQueryelement.outerHeight()+1):(this.opts.animationOpen="show",this.opts.animationClose="hide",this.isOpened()||this.jQuerycaret.addClass("up").removeClass("down"),this.opts.caretUp=!0,t=s.top-i-1),this.jQuerytarget.css({position:e,top:t+"px",left:h+"px"})}},t.Dropdown.inherits(t),t.Plugin.create("Dropdown"),t.Plugin.autoload("Dropdown")}(Kube),function(t){t.Tabs=function(e,s){this.namespace="tabs",this.defaults={equals:!1,active:!1,live:!1,hash:!0,callbacks:["init","next","prev","open","opened","close","closed"]},t.apply(this,arguments),this.start()},t.Tabs.prototype={start:function(){this.opts.live!==!1&&this.buildLiveTabs(),this.tabsCollection=[],this.hashesCollection=[],this.currentHash=[],this.currentItem=!1,this.jQueryitems=this.getItems(),this.jQueryitems.each(jQuery.proxy(this.loadItems,this)),this.jQuerytabs=this.getTabs(),this.currentHash=this.getLocationHash(),this.closeAll(),this.setActiveItem(),this.setItemHeight(),this.callback("init")},getTabs:function(){return jQuery(this.tabsCollection).map(function(){return this.toArray()})},getItems:function(){return this.jQueryelement.find("a")},loadItems:function(t,e){var s=this.getItem(e);s.jQueryel.attr("rel",s.hash),this.collectItem(s),s.jQueryparent.hasClass("active")&&(this.currentItem=s,this.opts.active=s.hash),s.jQueryel.on("click.tabs",jQuery.proxy(this.open,this))},collectItem:function(t){this.tabsCollection.push(t.jQuerytab),this.hashesCollection.push(t.hash)},buildLiveTabs:function(){var t=jQuery(this.opts.live);0!==t.length&&(this.jQueryliveTabsList=jQuery("<ul />"),t.each(jQuery.proxy(this.buildLiveItem,this)),this.jQueryelement.html("").append(this.jQueryliveTabsList))},buildLiveItem:function(t,e){var s=jQuery(e),i=jQuery("<li />"),n=jQuery("<a />"),o=t+1;s.attr("id",this.getLiveItemId(s,o));var a="#"+s.attr("id"),h=this.getLiveItemTitle(s);n.attr("href",a).attr("rel",a).text(h),i.append(n),this.jQueryliveTabsList.append(i)},getLiveItemId:function(t,e){return"undefined"==typeof t.attr("id")?this.opts.live.replace(".","")+e:t.attr("id")},getLiveItemTitle:function(t){return"undefined"==typeof t.attr("data-title")?t.attr("id"):t.attr("data-title")},setActiveItem:function(){this.currentHash?(this.currentItem=this.getItemBy(this.currentHash),this.opts.active=this.currentHash):this.opts.active===!1&&(this.currentItem=this.getItem(this.jQueryitems.first()),this.opts.active=this.currentItem.hash),this.addActive(this.currentItem)},addActive:function(t){t.jQueryparent.addClass("active"),t.jQuerytab.removeClass("hide").addClass("open"),this.currentItem=t},removeActive:function(t){t.jQueryparent.removeClass("active"),t.jQuerytab.addClass("hide").removeClass("open"),this.currentItem=!1},next:function(t){t&&t.preventDefault();var e=this.getItem(this.fetchElement("next"));this.open(e.hash),this.callback("next",e)},prev:function(t){t&&t.preventDefault();var e=this.getItem(this.fetchElement("prev"));this.open(e.hash),this.callback("prev",e)},fetchElement:function(t){var e;if(this.currentItem!==!1){if(e=this.currentItem.jQueryparent[t]().find("a"),0===e.length)return}else e=this.jQueryitems[0];return e},open:function(t,e){if("undefined"!=typeof t){"object"==typeof t&&t.preventDefault();var s="object"==typeof t?this.getItem(t.target):this.getItemBy(t);this.closeAll(),this.callback("open",s),this.addActive(s),this.pushStateOpen(e,s),this.callback("opened",s)}},pushStateOpen:function(t,e){t!==!1&&this.opts.hash!==!1&&history.pushState(!1,!1,e.hash)},close:function(t){var e=this.getItemBy(t);e.jQueryparent.hasClass("active")&&(this.callback("close",e),this.removeActive(e),this.pushStateClose(),this.callback("closed",e))},pushStateClose:function(){this.opts.hash!==!1&&history.pushState(!1,!1," ")},closeAll:function(){this.jQuerytabs.removeClass("open").addClass("hide"),this.jQueryitems.parent().removeClass("active")},getItem:function(t){var e={};return e.jQueryel=jQuery(t),e.hash=e.jQueryel.attr("href"),e.jQueryparent=e.jQueryel.parent(),e.jQuerytab=jQuery(e.hash),e},getItemBy:function(t){var e="number"==typeof t?this.jQueryitems.eq(t-1):this.jQueryelement.find('[rel="'+t+'"]');return this.getItem(e)},getLocationHash:function(){return this.opts.hash===!1?!1:this.isHash()?top.location.hash:!1},isHash:function(){return!(""===top.location.hash||-1===jQuery.inArray(top.location.hash,this.hashesCollection))},setItemHeight:function(){if(this.opts.equals){var t=this.getItemMaxHeight()+"px";this.jQuerytabs.css("min-height",t)}},getItemMaxHeight:function(){var t=0;return this.jQuerytabs.each(function(){var e=jQuery(this).height();t=e>t?e:t}),t}},t.Tabs.inherits(t),t.Plugin.create("Tabs"),t.Plugin.autoload("Tabs")}(Kube),function(t){t.modalcurrent=null,t.modalwindow=function(e){var s=t.extend({},e,{show:!0}),i=t("<span />");i.modal(s)}}(jQuery),function(t){t.Modal=function(e,s){this.namespace="modal",this.defaults={target:null,show:!1,url:!1,header:!1,width:"600px",height:!1,maxHeight:!1,position:"center",overlay:!0,appendForms:!1,appendFields:!1,animationOpen:"show",animationClose:"hide",callbacks:["open","opened","close","closed"]},t.apply(this,arguments),this.utils=new t.Utils,this.detect=new t.Detect,this.start()},t.Modal.prototype={start:function(){this.hasTarget()&&(this.opts.show?this.load():this.jQueryelement.on("click."+this.namespace,jQuery.proxy(this.load,this)))},buildModal:function(){this.jQuerymodal=this.jQuerytarget.find(".modal"),this.jQueryheader=this.jQuerytarget.find(".modal-header"),this.jQueryclose=this.jQuerytarget.find(".close"),this.jQuerybody=this.jQuerytarget.find(".modal-body")},buildOverlay:function(){this.opts.overlay!==!1&&(0!==jQuery("#modal-overlay").length?this.jQueryoverlay=jQuery("#modal-overlay"):(this.jQueryoverlay=jQuery('<div id="modal-overlay">').addClass("hide"),jQuery("body").prepend(this.jQueryoverlay)),this.jQueryoverlay.addClass("overlay"))},buildHeader:function(){this.opts.header&&this.jQueryheader.html(this.opts.header)},load:function(t){this.buildModal(),this.buildOverlay(),this.buildHeader(),this.opts.url?this.buildContent():this.open(t)},open:function(t){t&&t.preventDefault(),this.isOpened()||(this.detect.isMobile()&&(this.opts.width="96%"),this.opts.overlay&&this.jQueryoverlay.removeClass("hide"),this.jQuerytarget.removeClass("hide"),this.jQuerymodal.removeClass("hide"),this.enableEvents(),this.findActions(),this.resize(),jQuery(window).on("resize."+this.namespace,jQuery.proxy(this.resize,this)),this.detect.isDesktop()&&this.utils.disableBodyScroll(),this.jQuerymodal.find("input[type=text],input[type=url],input[type=email]").on("keydown."+this.namespace,jQuery.proxy(this.handleEnter,this)),this.callback("open"),this.jQuerymodal.animation(this.opts.animationOpen,jQuery.proxy(this.onOpened,this)))},close:function(t){if(this.jQuerymodal&&this.isOpened()){if(t){if(this.shouldNotBeClosed(t.target))return;t.preventDefault()}this.callback("close"),this.disableEvents(),this.jQuerymodal.animation(this.opts.animationClose,jQuery.proxy(this.onClosed,this)),this.opts.overlay&&this.jQueryoverlay.animation(this.opts.animationClose)}},onOpened:function(){this.jQuerymodal.addClass("open"),this.callback("opened"),jQuery.modalcurrent=this},onClosed:function(){this.callback("closed"),this.jQuerytarget.addClass("hide"),this.jQuerymodal.removeClass("open"),this.detect.isDesktop()&&this.utils.enableBodyScroll(),this.jQuerybody.css("height",""),jQuery.modalcurrent=null},isOpened:function(){return this.jQuerymodal.hasClass("open")},getData:function(){var e=new t.FormData(this);return e.set(""),e.get()},buildContent:function(){jQuery.ajax({url:this.opts.url+"?"+(new Date).getTime(),cache:!1,type:"post",data:this.getData(),success:jQuery.proxy(function(t){this.jQuerybody.html(t),this.open()},this)})},buildWidth:function(){var t=this.opts.width,e="2%",s="2%",i=t.match(/%jQuery/);parseInt(this.opts.width)>jQuery(window).width()&&!i?t="96%":i||(e="16px",s="16px"),this.jQuerymodal.css({width:t,"margin-top":e,"margin-bottom":s})},buildPosition:function(){if("center"===this.opts.position){var t=jQuery(window).height(),e=this.jQuerymodal.outerHeight(),s=t/2-e/2+"px";this.detect.isMobile()?s="2%":e>t&&(s="16px"),this.jQuerymodal.css("margin-top",s)}},buildHeight:function(){var t=jQuery(window).height();if(this.opts.maxHeight){var e=parseInt(this.jQuerybody.css("padding-top"))+parseInt(this.jQuerybody.css("padding-bottom")),s=parseInt(this.jQuerymodal.css("margin-top"))+parseInt(this.jQuerymodal.css("margin-bottom")),i=t-this.jQueryheader.innerHeight()-e-s;this.jQuerybody.height(i)}else this.opts.height!==!1&&this.jQuerybody.css("height",this.opts.height);var n=this.jQuerymodal.outerHeight();n>t&&(this.opts.animationOpen="show",this.opts.animationClose="hide")},resize:function(){this.buildWidth(),this.buildPosition(),this.buildHeight()},enableEvents:function(){this.jQueryclose.on("click."+this.namespace,jQuery.proxy(this.close,this)),jQuery(document).on("keyup."+this.namespace,jQuery.proxy(this.handleEscape,this)),this.jQuerytarget.on("click."+this.namespace,jQuery.proxy(this.close,this))},disableEvents:function(){this.jQueryclose.off("."+this.namespace),jQuery(document).off("."+this.namespace),this.jQuerytarget.off("."+this.namespace),jQuery(window).off("."+this.namespace)},findActions:function(){this.jQuerybody.find('[data-action="modal-close"]').on("mousedown."+this.namespace,jQuery.proxy(this.close,this))},setHeader:function(t){this.jQueryheader.html(t)},setContent:function(t){this.jQuerybody.html(t)},setWidth:function(t){this.opts.width=t,this.resize()},getModal:function(){return this.jQuerymodal},getBody:function(){return this.jQuerybody},getHeader:function(){return this.jQueryheader},handleEnter:function(t){13===t.which&&(t.preventDefault(),this.close(!1))},handleEscape:function(t){return 27===t.which?this.close(!1):!0},shouldNotBeClosed:function(t){return"modal-close"===jQuery(t).attr("data-action")||t===this.jQueryclose[0]?!1:0!==jQuery(t).closest(".modal").length}},t.Modal.inherits(t),t.Plugin.create("Modal"),t.Plugin.autoload("Modal")}(Kube);